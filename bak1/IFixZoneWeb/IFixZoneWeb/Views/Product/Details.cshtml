@model IFixZoneWeb.Models.Entities.Product
@{
    ViewData["Title"] = Model.ProductName;
}

<div class="container py-4">

    <div class="row g-4">

        <!-- LEFT: IMAGE -->
        <div class="col-md-5">
            <div class="border rounded shadow-sm p-3 bg-white text-center">

                <img src="~/images/products/@Model.MainImage"
                     class="img-fluid rounded"
                     style="max-height:340px; object-fit:contain;" />

            </div>
        </div>


        <!-- RIGHT: PRODUCT INFO -->
        <div class="col-md-7">

            <h2 class="fw-bold">@Model.ProductName</h2>

            <span class="badge bg-secondary mb-2">
                @Model.Category?.CategoryName
            </span>

            <h3 class="text-danger fw-bold mt-2">
                @Model.Price.ToString("N0") ₫
            </h3>

            <p class="text-muted mt-2">@Model.Description</p>

            <div class="mt-3">
                <button class="btn btn-primary btn-lg">
                    <i class="fa-solid fa-cart-plus"></i> Thêm vào giỏ hàng
                </button>

                <button class="btn btn-outline-dark btn-lg ms-2">
                    <i class="fa-regular fa-heart"></i> Yêu thích
                </button>
            </div>

            <p class="mt-3 text-success">
                <i class="fa-solid fa-box"></i> Còn hàng: <b>@Model.Stock</b>
            </p>

        </div>
    </div>


    <!-- SECTION: SPECS -->
    <div class="card mt-4 shadow-sm">
        <div class="card-header fw-bold">
            Thông số kỹ thuật
        </div>

        <div class="card-body">

            @if (!Model.ProductSpecifications.Any())
            {
                <p>Chưa có thông số kỹ thuật.</p>
            }
            else
            {
                <table class="table table-bordered">
                    @foreach (var spec in Model.ProductSpecifications)
                    {
                        <tr>
                            <td class="fw-bold w-25">@spec.SpecName</td>
                            <td>@spec.SpecValue</td>
                        </tr>
                    }
                </table>
            }
        </div>
    </div>


    <!-- SECTION: REVIEWS -->
    <div class="card mt-4 shadow-sm">
        <div class="card-header fw-bold">
            Đánh giá sản phẩm
        </div>

        <div class="card-body">

            @if (!Model.Reviews.Any())
            {
                <p>Chưa có đánh giá nào.</p>
            }
            else
            {
                foreach (var r in Model.Reviews)
                {
                    <div class="border rounded p-2 mb-2">
                        ⭐ @r.Rating / 5 — <b>@r.User?.FullName</b>
                        <div>@r.Comment</div>
                    </div>
                }
            }
        </div>
    </div>

</div>
